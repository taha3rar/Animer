<form [formGroup]="form">
  <div class="row">
    <div class="col-md-6">
      <div class="info">
        <p class="heading-2">ISSUED BY</p>
        <app-user-data [user]="buyer" [issued_by]="true"></app-user-data>
      </div>
    </div>
    <div class="col-md-6">
      <div class="info">
        <p class="heading-2">ISSUED FOR</p>
        <app-user-data [user]="seller" [issued_for]="true"></app-user-data>
      </div>
    </div>
  </div>

  <app-order-product-list (updateProductsEvent)="updateProducts($event)" (updateFormEvent)="updateForm($event)"></app-order-product-list>

  <div class="row">
    <div class="col-md-5">
      <div class="comments">
        <label for="payment_comments">Comments or special instructions for payment</label>
        <textarea rows="4" id="payment_comments" placeholder="Type comments here..." formControlName="payment_comments"></textarea>
      </div>
    </div>
    <div class="col-md-5">
      <div class="comments">
        <label for="po_comments">Comments or special instructions for purchase order</label>
        <textarea rows="4" id="po_comments" placeholder="Type comments here..." formControlName="order_comments"></textarea>
      </div>
    </div>
    <div class="col-md-2">
      <div class="subtotal-price pull-right">
        <p class="heading-2">SUBTOTAL</p>
        <p class="heading-4-blue">{{order.subtotal.value}} {{order.currency.value}}</p>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-6">
      <div formGroupName="sign_by" class="info">
        <p class="heading-2">SIGNED BY</p>
        <div class="form-row">
          <div class="form-group col-md-4">
            <label for="first_name">First Name *</label>
            <input type="text" class="form-control" id="first_name" placeholder="Type first name here..."
              formControlName="first_name" />
          </div>
          <div class="form-group col-md-4">
            <label for="last_name">Last Name *</label>
            <input type="text" class="form-control" id="last_name" placeholder="Type last name here..." formControlName="last_name" />
          </div>
          <div class="form-group col-md-4">
            <label for="company_name">Company Name *</label>
            <input type="text" class="form-control" id="company_name" placeholder="Type company name here..."
              formControlName="company_name" />
          </div>
        </div>
        <div class="row">
          <div class="form-group col-md-8">
            <label for="PO_valid_date">Purchase Order is Valid by *</label>
            <div class="input-group">
              <input id="PO_valid_date" class="form-control" placeholder="yyyy-mm-dd" name="ddpp" ngbDatepicker #ddpp="ngbDatepicker"
                formControlName="date" />
              <div class="input-group-append">
                <button class="btn glyphicon glyphicon-calendar" (click)="ddpp.toggle()" type="button"></button>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <p class="normal-text-bold">Date of Issue</p>
            <p>{{date_created | date: 'dd/MM/yyyy'}}</p>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div formGroupName="deliver_to" class="info">
        <p class="heading-2">DELIVERED TO</p>
        <div class="form-row">
          <div class="form-group col-md-4">
            <label for="contact_name">Contact Name *</label>
            <input type="text" class="form-control" id="contact_name" placeholder="Type contact name here..."
              formControlName="contact_name" />
          </div>
          <div class="form-group col-md-4">
            <label for="street_address">Street Address *</label>
            <input type="text" class="form-control" id="street_address" placeholder="Type street address here..."
              formControlName="address" />
          </div>
          <div class="form-group col-md-4">
            <label for="city">City *</label> <input type="text" class="form-control" id="city" placeholder="Type city here..." formControlName="city" />
          </div>
        </div>
        <div class="form-row">
          <div class="form-group col-md-4">
            <label for="zip_code">Zip Code *</label>
            <input type="text" class="form-control" id="zip_code" placeholder="Type zip code here..." formControlName="zip_code" />
          </div>
          <div class="form-group col-md-4">
            <label for="phone">Phone *</label>
            <input type="tel" placeholder="Type phone number here..." class="form-control" id="phone" formControlName="phone_number" />
          </div>
          <div class="form-group col-md-4">
            <label for="expected_delivery">Expected Delivery Date *</label>
            <div class="input-group">
              <input id="expected_delivery" class="form-control" placeholder="yyyy-mm-dd" name="ddp" ngbDatepicker #ddp="ngbDatepicker"
                formControlName="expected_delivery_date" />
              <div class="input-group-append">
                <button class="btn glyphicon glyphicon-calendar" style="position:0;" (click)="ddp.toggle()" type="button"></button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <button class="bttn-primary pull-right next-step" (click)="toReview()" [disabled]="!form.valid || products.length < 1">Next Step &rarr;</button>
  <button class="btn-primary-transp pull-right btn-draft" (click)="draftOrder()">Save Draft</button>
</form>