<div id="pdfContent">
  <div class="border-box">
    <h2>PURCHASE ORDER</h2>
    <table>
      <tr>
        <td class="heading-4-blue">ISSUE DATE</td>
        <td>{{ order?.date_created | date: 'dd/MM/yyyy' }}</td>
      </tr>
      <tr>
        <td class="heading-4-blue">VALID BY</td>
        <td>{{ order?.sign_by.date | date: 'dd/MM/yyyy' }}</td>
      </tr>
    </table>
  </div>

  <div class="row" style="padding-top: 5rem;">
    <div class="col-md-6">
      <p class="heading-4-blue">ISSUED BY</p>
      <p class="heading-4">{{ order?.buyer.first_name }} {{ order?.buyer.last_name }}</p>
      <p class="heading-4">{{ order?.buyer.company_name }}</p>
      <p class="heading-4">{{ order?.buyer.email }}</p>
      <p class="heading-4">{{ order?.buyer.address }}, {{ order?.buyer.city }} {{ order?.buyer.zipcode }}</p>
      <p class="heading-4">{{ order?.buyer.phone_number }}</p>
    </div>
    <div class="col-md-3 col-md-offset-3">
      <p class="heading-4-blue">ISSUED FOR</p>
      <p class="heading-4">{{ order?.seller.first_name }} {{ order?.seller.last_name }}</p>
      <p class="heading-4">{{ order?.seller.company_name }}</p>
      <p class="heading-4">{{ order?.seller.email }}</p>
      <p class="heading-4">{{ order?.seller.address }}, {{ order?.seller.city }} {{ order?.seller.zipcode }}</p>
      <p class="heading-4">{{ order?.seller.phone_number }}</p>
    </div>
  </div>
  <div style="padding-top: 2rem;">
    <p class="heading-2">PRODUCTS</p>
    <table class="products-table">
      <thead>
        <tr>
          <th>PRODUCT NAME</th>
          <th>PACKAGES</th>
          <th>AMOUNT</th>
          <th>RATE</th>
          <th>PRICE</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let row of order?.products">
          <td>
            <span *ngIf="!row.product_type || row.product_type == 'agricultural'">
              {{ row.produce }} / {{ row.variety }}
            </span>
            <span *ngIf="row.product_type == 'processed' && row.item_package_type">
              {{ row.produce }} / {{ row.item_measurement_amount | number: '1.2-2' }} {{ row.item_measurement_unit }} /
              {{ row.item_package_type }}
            </span>
            <span *ngIf="row.product_type == 'processed' && !row.item_package_type">
              {{ row.produce }}
            </span>
          </td>
          <td>
            <span *ngIf="!row.product_type || row.product_type == 'agricultural'">
              {{ row.quantity | number: '1.0' }} ({{ row.type_of_package }} /
              {{ row.package_weight | number: '1.2-2' }} {{ row.weight_unit }})
            </span>
            <span *ngIf="row.product_type == 'processed' && row.item_package_type">
              {{ row.quantity | number: '1.0' }} ({{ row.type_of_package }} / {{ row.items_per_package | number: '1.0'
              }}<span *ngIf="row.items_per_package > 1"> items)</span
              ><span *ngIf="row.items_per_package == 0"> item)</span>
            </span>
            <span *ngIf="row.product_type == 'processed' && !row.item_package_type">
              {{ row.quantity | number: '1.0' }} ({{ row.type_of_package }})
            </span>
          </td>
          <td>
            <span *ngIf="!row.product_type || row.product_type == 'agricultural'"
              >{{ row.total_weight | number: '1.2-2' }} {{ row.weight_unit }}</span
            >
            <span *ngIf="row.product_type == 'processed'">N/A</span>
          </td>
          <td>
            <span *ngIf="!row.product_type || row.product_type == 'agricultural'"
              >{{ row.price_per_unit | number: '1.2-2' }} {{ order?.currency }} / {{ row.weight_unit }}</span
            >
            <span *ngIf="row.product_type == 'processed'"
              >{{ row.package_price | number: '1.2-2' }} {{ order?.currency }} / {{ row.type_of_package }}</span
            >
          </td>
          <td>
            <span id="total">{{ row.product_subtotal | number: '1.2-2' }} {{ order?.currency }}</span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div style="padding-top: 2rem;">
    <div class="row">
      <div class="col-md-9">
        <p class="heading-2">NOTES</p>
        <div>
          <p class="heading-4-blue">PAYMENT NOTES</p>
          <p>
            {{ order?.payment_comments || 'None' }}
          </p>
        </div>
        <div>
          <p class="heading-4-blue">PURCHASE ORDER NOTES</p>
          <p>
            {{ order?.order_comments || 'None' }}
          </p>
        </div>
      </div>
      <div class="col-md-3">
        <div class="border-box center-items pull-left">
          <p class="heading-2">SUBTOTAL</p>
          <p class="heading-4-blue">{{ order?.subtotal | number: '1.2-2' }} {{ order?.currency }}</p>
        </div>
      </div>
    </div>
  </div>

  <div class="row" style="padding-top: 5rem;">
    <div class="col-md-6">
      <p class="heading-4-blue">SIGNED BY</p>
      <div class="row">
        <div class="col-md-6">
          <p class="heading-4">{{ order?.sign_by.first_name }} {{ order?.sign_by.last_name }}</p>
          <p class="heading-4">{{ order?.sign_by.company_name }}</p>
        </div>
      </div>
    </div>
    <div class="col-md-3 col-md-offset-3">
      <p class="heading-4-blue">DELIVER TO</p>
      <p class="heading-4">{{ order?.deliver_to.contact_name }}</p>
      <p class="heading-4">
        {{ order?.deliver_to.address }}, {{ order?.deliver_to.city }} {{ order?.deliver_to.zip_code }}
      </p>
      <p class="heading-4">{{ order?.deliver_to.phone }}</p>
      <p class="heading-4">
        Expected delivery date: {{ order?.deliver_to.expected_delivery_date | date: 'dd/MM/yyyy' }}
      </p>
      <button class="bttn-primary pull-right" (click)="saveOrder()">Submit</button>
    </div>
  </div>
</div>
