<p class="main-title margin-bottom">All Notifications</p>

<div class="row margin-none">
  <div class="col-md-10">
    <div
      class="card notification-card"
      *ngFor="let notification of (notifications | paginate: { itemsPerPage: itemsPerPage, currentPage: page })"
      [ngClass]="{ 'unread-notification': notification.read === false }"
    >
      <div>
        <figure
          class="img-circular img-circular-sm"
          [style.background-image]="'url(' + profilePicture(notification) + ')'"
          (click)="open(notification)"
        ></figure>
      </div>
      <div style="width: 90%" (click)="open(notification)">
        <p *ngIf="notification.topic.name === 'new-invoice-receiver'">
          <strong>{{ notification.emitter.first_name }} {{ notification.emitter.last_name }}</strong> has sent you a
          <strong>Proforma Invoice</strong>
        </p>
        <p *ngIf="notification.topic.name === 'new-order-receiver'">
          <strong>{{ notification.emitter.first_name }} {{ notification.emitter.last_name }}</strong> has sent you a
          <strong>Purchase Order</strong>
        </p>
        <p *ngIf="notification.topic.name === 'new-document'">
          <strong>{{ notification.emitter.first_name }} {{ notification.emitter.last_name }}</strong> has uploaded a
          <strong>Necessary Document</strong>
        </p>
        <p *ngIf="notification.topic.name === 'new-contract'">
          <strong>{{ notification.emitter.first_name }} {{ notification.emitter.last_name }}</strong> has uploaded a
          <strong>Necessary Document</strong>
        </p>
        <p *ngIf="notification.topic.name === 'new-quote-request'">
          <strong>{{ notification.emitter.first_name }} {{ notification.emitter.last_name }}</strong> has sent you a
          <strong>Quote Request</strong>
        </p>
        <p *ngIf="notification.topic.name === 'new-quotation'">
          <strong>{{ notification.emitter.first_name }} {{ notification.emitter.last_name }}</strong> has sent you a
          <strong>Quotation</strong>
        </p>
        <p *ngIf="notification.topic.name === 'quotation-accepted'">
          <strong>{{ notification.emitter.first_name }} {{ notification.emitter.last_name }}</strong> accepted your
          <strong>Quotation</strong>
        </p>
        <p>{{ notification.date_created | date: 'dd/MM/yyyy hh:mm aaa' }}</p>
      </div>
      <div class="clear-notification">
        <button class="clear-icon-btn" (click)="clearNotification(notification._id)">
          <span ngbTooltip="Clear Notification" container="body" class="material-icons">clear</span>
        </button>
      </div>
    </div>
  </div>
  <div class="col-md-2">
    <div class="card notification-settings-card">
      <div>Would you like to manage your notifications?</div>
      <div>
        <p>View notification settings</p>
        <a routerLink="/profile">here</a>
      </div>
    </div>
  </div>
</div>

<pagination-controls class="my-pagination" (pageChange)="page = $event"></pagination-controls>
