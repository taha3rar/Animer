<h1 translate class="main-title">Products</h1>

<div class="helper-panel">
  <i class="material-icons pull-left">info</i>
  <p translate>Product list help legend</p>
</div>

<button class="bttn-primary bttn-add pull-right" data-toggle="stepper" routerLink="/product/generator">
  <span translate>New Product</span>
</button>

<h1 translate class="main-title">Products List</h1>

<table class="table main-table">
  <thead>
    <tr>
      <th translate class="text-center">ID</th>
      <th translate>Product</th>
      <th translate>SKU</th>
      <th translate>Package Type</th>
      <th translate>Inventory</th>
      <th translate class="text-right">Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let product of (products | paginate: { itemsPerPage: 6, currentPage: page }); let i = index">
      <td class="text-center">{{ product.numericId }}</td>
      <td *ngIf="product.product_type != 'processed'">{{ product.produce }} / {{ product.variety }}</td>
      <td *ngIf="product.product_type == 'processed'">{{ product.produce }}</td>
      <td>{{ product.sku }}</td>
      <td>{{ product.type_of_package }}</td>
      <td *ngIf="product.product_type != 'processed'">{{ product.total_weight }} {{ product.weight_unit }}</td>
      <td *ngIf="product.product_type == 'processed'">{{ product.quantity }} Packages</td>
      <td class="text-right">
        <button class="btn round-button-primary"><i class="material-icons">edit</i></button>
        <button class="btn round-button-primary" data-toggle="wizard" data-target="#productProfileWizard" (click)="setProductOverview(i)"><i class="material-icons">remove_red_eye</i></button>
        <button class="btn round-button-red" (click)="warning(product._id)"><i class="material-icons">delete</i></button>
      </td>
    </tr>
  </tbody>
</table>

<pagination-controls (pageChange)="page = $event"></pagination-controls>

<div class="modal-box" id="productProfileWizard">
  <div class="modal-box-content-sm" style="width: 30%">
    <div class="modal-box-heading">
        <i class="material-icons pull-right" data-dismiss="modal" >close</i>
      <p translate class="modal-title">Product Overview</p>
    </div>
    <app-product-profile [product]="selectedProduct"></app-product-profile>
  </div>
</div>
